<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html lang="zh-tw">
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.css">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="/css/style.css">
		<script src="/CoreScripts/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/extensions/multiple-search/bootstrap-table-multiple-search.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/locale/bootstrap-table-zh-TW.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/locale/bootstrap-table-zh-TW.min.js"></script>
	</head>
	<body>
		<div class="load_modal"></div>
		<datalist id="part_list" class="normal_font"></datalist>
        <div id="record_toolbar" calss="page_container">
            <form class="tab_form" id="record_form">
                <div class="col-auto">
                    <button type="button" class="btn btn-primary" onclick="rem_record_btn()" >刪除</button>
                    <button type="button" class="btn btn-primary" onclick="receive_record()" >更新數據</button>
                </div>
                <table id="record_table"
                    data-toggle="table"
                    data-side-pagination="client"
                    data-pagination="true"
                    data-page-list="[5, 10, 50, 100]"
                    data-search="true"
                    data-height="525"
                    data-id-field="index"
                    data-unique-id="index"
                    data-show-columns="true"
                    data-toolbar="#record_toolbar"
                    data-row-style="set_table_font"
                    data-page-number="1">
                    <thead>
                        <tr>
                            <th data-field="state" data-checkbox="true"></th>
                            <th data-field="index">項次</th>
                            <th data-field="timestamp">時間</th>
                            <th data-field="number">品號</th>
                            <th data-field="name">品名</th>
                            <th data-field="action">行為</th>
                            <th data-field="quantity">數量</th>
                            <th data-field="goal">目的</th>
                            <th data-field="location">位置</th>
                        </tr>
                    </thead>
                </table>
            </form>
        </div>
		<script language="JavaScript">
			var body = $("body");
            var table_refnum = $("#record_table");
            
			$(document).on({
				ajaxStart: function(){
					body.addClass("loading");
				},
				ajaxStop: function(){ 
					body.removeClass("loading");
				}
			});

			$(document).ready(function(){
                receive_record();
			});
            
            // remove select record
            function rem_record_btn(){
                res_rem_record_btn( table_refnum );
            }
            
		</script>
		<script type="text/javascript" src="/SubScripts/db_send.js"></script>
		<script type="text/javascript" src="/SubScripts/macro_send.js"></script>
		<script type="text/javascript" src="/SubScripts/db_receive.js"></script>
		<script type="text/javascript" src="/SubScripts/macro_receive.js"></script>
		<script type="text/javascript" src="/SubScripts/part_number.js"></script>
		<script type="text/javascript" src="/SubScripts/get.js"></script>
		<script type="text/javascript" src="/SubScripts/ctrl_table.js"></script>
		<script type="text/javascript" src="/SubScripts/response_button.js"></script>
	</body>
</html>
